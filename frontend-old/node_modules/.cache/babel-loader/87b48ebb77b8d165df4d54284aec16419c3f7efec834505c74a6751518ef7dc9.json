{"ast":null,"code":"import _extends from \"/Users/jacobfu/Desktop/Projects/TDP/node_modules/@babel/runtime/helpers/esm/extends.js\";\nvar _jsxFileName = \"/Users/jacobfu/Desktop/Projects/TDP/apps/frontend/src/features/tdp-tm/pages/TenderDashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport TenderList from '../components/TenderList';\nimport { Pagination, Select, MenuItem } from '@mui/material';\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst token = localStorage.getItem(\"access_token\");\nconst TenderDashboard = () => {\n  _s();\n  const [tenders, setTenders] = useState([]);\n  const [filteredTenders, setFilteredTenders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [statusFilter, setStatusFilter] = useState(null);\n  const [sortField, setSortField] = useState(null);\n  const [sortOrder, setSortOrder] = useState(null);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const fetchTenders = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"access_token\");\n      if (!token) {\n        setError(\"You must be logged in to view your Tenders.\");\n        setLoading(false);\n        return;\n      }\n      const response = await fetch(\"http://localhost:3000/api/v1/tenders/submittedtenders\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}: Failed to fetch bids`);\n      }\n      const data = await response.json();\n      console.log(\"Raw response data:\", data);\n      const rawTenders = data.subtenders || [];\n\n      // Trim spaces from status values\n      const cleanedsubTenders = rawTenders.map(subtender => _extends({}, subtender, {\n        status: subtender.status.trim()\n      }));\n      console.log(\"Cleaned sub tenders:\", cleanedsubTenders);\n      setTenders(cleanedsubTenders);\n      setFilteredTenders(cleanedsubTenders);\n    } catch (error) {\n      console.error(\"Error fetching tenders:\", error);\n      setError(\"Server error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchTenders();\n    const token = localStorage.getItem('access_token') || '';\n\n    // Connect via socket.io\n    const socket = io('http://localhost:3000', {\n      transports: ['websocket'],\n      query: {\n        token\n      }\n    });\n    socket.on(\"connect\", () => {\n      console.log(\"Connected to WebSocket server\");\n    });\n    socket.on(\"tenderInserted\", data => {\n      console.log(\"Tender inserted:\", data.subtender);\n      fetchTenders();\n    });\n    socket.on(\"tenderUpdated\", data => {\n      console.log(\"Tender updated:\", data.subtender);\n      fetchTenders();\n    });\n    socket.on(\"tenderDeleted\", data => {\n      console.log(\"Tender deleted:\", data.subtender);\n      fetchTenders();\n    });\n    socket.on(\"connect_error\", err => {\n      console.error(\"WebSocket connection error:\", err);\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  // Apply filters\n  const handleFilter = () => {\n    let filtered = tenders;\n    console.log(\"filered tenders\", tenders);\n    if (statusFilter) {\n      filtered = filtered.filter(tender => tender.status === statusFilter);\n    }\n    if (startDate && endDate) {\n      filtered = filtered.filter(tender => new Date(tender.submittedAt) >= new Date(startDate) && new Date(tender.submittedAt) <= new Date(endDate));\n    }\n    setFilteredTenders(filtered);\n    setShowFilters(false); // Hide filter modal after applying\n  };\n  const handleRowsPerPageChange = event => {\n    setRowsPerPage(Number(event.target.value));\n  };\n  const handlePageChange = (event, page) => {\n    setCurrentPage(page);\n  };\n\n  // Reset filters\n  const clearFilters = () => {\n    setStatusFilter(null);\n    setStartDate('');\n    setEndDate('');\n    setFilteredTenders(tenders);\n    setShowFilters(false); // Hide filter modal\n  };\n\n  // Sorting logic\n  const handleSort = field => {\n    let newSortOrder;\n    if (sortField === field) {\n      newSortOrder = sortOrder === 'asc' ? 'desc' : sortOrder === 'desc' ? null : 'asc';\n    } else {\n      newSortOrder = 'asc';\n    }\n    setSortField(newSortOrder ? field : null);\n    setSortOrder(newSortOrder);\n    if (newSortOrder) {\n      const sortedTenders = [...filteredTenders].sort((a, b) => {\n        if (a[field] < b[field]) return newSortOrder === 'asc' ? -1 : 1;\n        if (a[field] > b[field]) return newSortOrder === 'asc' ? 1 : -1;\n        return 0;\n      });\n      setFilteredTenders(sortedTenders);\n    } else {\n      setFilteredTenders([...tenders]);\n    }\n  };\n\n  // **Compute Summary Stats**\n  const totalTenders = tenders.length;\n  const openTenders = tenders.filter(t => t.status === 'Open').length;\n  const pendingTenders = tenders.filter(t => t.status === 'Submitted').length;\n  const acceptedTenders = tenders.filter(t => t.status === 'Approved').length;\n  const rejectedTenders = tenders.filter(t => t.status === 'Rejected').length;\n\n  // Compute **Percentage Stats**\n  const getPercentage = count => totalTenders > 0 ? (count / totalTenders * 100).toFixed(1) : '0';\n\n  // Handle **Click on Status Card** to Filter Tenders\n  const filterByStatus = status => {\n    console.log(\"Filter Status Selected: \", status); // Debug line\n    if (status === statusFilter) {\n      setStatusFilter(null);\n      setFilteredTenders([...tenders]); // Reset to all tenders if same status clicked\n    } else {\n      setStatusFilter(status);\n      setFilteredTenders(tenders.filter(t => t.status === status)); // Filter by the selected status\n    }\n  };\n  console.log(\"Filtered tenders>>>>>>>\", filteredTenders);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-4\",\n      children: \"Tenders Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-5 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg text-center shadow cursor-pointer ${statusFilter === null ? 'bg-gray-300' : 'bg-gray-100'}`,\n        onClick: () => filterByStatus(null),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-semibold\",\n          children: \"Total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold\",\n          children: totalTenders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg text-center shadow cursor-pointer ${statusFilter === 'Open' ? 'bg-blue-300' : 'bg-blue-100'}`,\n        onClick: () => filterByStatus('Open'),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-semibold\",\n          children: \"Open\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-blue-600\",\n          children: openTenders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [getPercentage(openTenders), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg text-center shadow cursor-pointer ${statusFilter === 'Submitted' ? 'bg-yellow-300' : 'bg-yellow-100'}`,\n        onClick: () => filterByStatus('Submitted'),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-semibold\",\n          children: \"Submitted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-yellow-700\",\n          children: pendingTenders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [getPercentage(pendingTenders), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg text-center shadow cursor-pointer ${statusFilter === 'Approved' ? 'bg-green-200' : 'bg-green-100'}`,\n        onClick: () => filterByStatus('Approved'),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-semibold\",\n          children: \"Accepted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-green-600\",\n          children: acceptedTenders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [getPercentage(acceptedTenders), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-lg text-center shadow cursor-pointer ${statusFilter === 'Rejected' ? 'bg-red-300' : 'bg-red-100'}`,\n        onClick: () => filterByStatus('Rejected'),\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-semibold\",\n          children: \"Rejected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold text-red-600\",\n          children: rejectedTenders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [getPercentage(rejectedTenders), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-gray-300 px-4 py-2 rounded-lg\",\n        onClick: () => setShowFilters(true),\n        children: \"\\u2699\\uFE0F Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-red-500 underline\",\n        onClick: clearFilters,\n        children: \"Clear filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center\",\n      onClick: () => setShowFilters(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-lg w-96\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Filter Options\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"w-full border p-2 rounded\",\n          value: statusFilter || '',\n          onChange: e => setStatusFilter(e.target.value || null),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Open\",\n            children: \"Open\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Approved\",\n            children: \"Accepted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Submitted\",\n            children: \"Submitted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Rejected\",\n            children: \"Rejected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-2\",\n          children: \"Start Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: \"w-full border p-2 rounded mb-4\",\n          value: startDate,\n          onChange: e => setStartDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-2\",\n          children: \"End Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          className: \"w-full border p-2 rounded mb-4\",\n          value: endDate,\n          onChange: e => setEndDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-blue-500 text-white px-4 py-2 rounded-lg\",\n            onClick: handleFilter,\n            children: \"Apply Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"text-gray-500 underline\",\n            onClick: () => setShowFilters(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TenderList, {\n      tenders: filteredTenders,\n      onSort: handleSort,\n      sortField: sortField,\n      sortOrder: sortOrder,\n      currentPage: currentPage,\n      rowsPerPage: rowsPerPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 flex justify-end items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mr-2\",\n          children: \"Rows per page:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: rowsPerPage,\n          onChange: handleRowsPerPageChange,\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 5,\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 10,\n            children: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 25,\n            children: \"25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 50,\n            children: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        count: Math.ceil(filteredTenders.length / rowsPerPage),\n        page: currentPage,\n        onChange: handlePageChange,\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n};\n_s(TenderDashboard, \"ZfRH4IcDd1RKf4xUV2bzYTYesSk=\");\n_c = TenderDashboard;\nexport default TenderDashboard;\nvar _c;\n$RefreshReg$(_c, \"TenderDashboard\");","map":{"version":3,"names":["React","useEffect","useState","TenderList","Pagination","Select","MenuItem","io","jsxDEV","_jsxDEV","token","localStorage","getItem","TenderDashboard","_s","tenders","setTenders","filteredTenders","setFilteredTenders","loading","setLoading","error","setError","statusFilter","setStatusFilter","sortField","setSortField","sortOrder","setSortOrder","startDate","setStartDate","endDate","setEndDate","showFilters","setShowFilters","currentPage","setCurrentPage","rowsPerPage","setRowsPerPage","fetchTenders","response","fetch","method","headers","Authorization","ok","Error","status","data","json","console","log","rawTenders","subtenders","cleanedsubTenders","map","subtender","_extends","trim","socket","transports","query","on","err","disconnect","handleFilter","filtered","filter","tender","Date","submittedAt","handleRowsPerPageChange","event","Number","target","value","handlePageChange","page","clearFilters","handleSort","field","newSortOrder","sortedTenders","sort","a","b","totalTenders","length","openTenders","t","pendingTenders","acceptedTenders","rejectedTenders","getPercentage","count","toFixed","filterByStatus","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","e","stopPropagation","onChange","type","onSort","Math","ceil","color","_c","$RefreshReg$"],"sources":["/Users/jacobfu/Desktop/Projects/TDP/apps/frontend/src/features/tdp-tm/pages/TenderDashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport TenderList from '../components/TenderList'\nimport { Pagination, Select, MenuItem, SelectChangeEvent } from '@mui/material';\nimport io from \"socket.io-client\";\n\nconst token = localStorage.getItem(\"access_token\");\n\ninterface SubTender {\n  subId: string;\n  title: string;\n  status: string;\n  submittedAt: string;\n  updatedAt: string;\n}\n\nconst TenderDashboard: React.FC = () => {\n  const [tenders, setTenders] = useState<any[]>([])\n  const [filteredTenders, setFilteredTenders] = useState<any[]>([])\n  const [loading, setLoading] = useState<boolean>(true)\n  const [error, setError] = useState<string | null>(null)\n  const [statusFilter, setStatusFilter] = useState<string | null>(null)\n  const [sortField, setSortField] = useState<string | null>(null)\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc' | null>(null)\n  const [startDate, setStartDate] = useState<string>('')\n  const [endDate, setEndDate] = useState<string>('')\n  const [showFilters, setShowFilters] = useState<boolean>(false)\n  const [currentPage, setCurrentPage] = useState<number>(1)\n  const [rowsPerPage, setRowsPerPage] = useState<number>(10)\n\n  const fetchTenders = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"access_token\");\n\n      if (!token) {\n        setError(\"You must be logged in to view your Tenders.\");\n        setLoading(false);\n        return;\n      }\n\n      const response = await fetch(\"http://localhost:3000/api/v1/tenders/submittedtenders\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}: Failed to fetch bids`);\n      }\n\n      const data = await response.json();\n      console.log(\"Raw response data:\", data);\n\n      const rawTenders = data.subtenders || [];\n\n      // Trim spaces from status values\n      const cleanedsubTenders = rawTenders.map((subtender: SubTender) => ({\n        ...subtender,\n        status: subtender.status.trim(),\n      }));\n\n      console.log(\"Cleaned sub tenders:\", cleanedsubTenders);\n      setTenders(cleanedsubTenders);\n      setFilteredTenders(cleanedsubTenders);\n    } catch (error) {\n      console.error(\"Error fetching tenders:\", error);\n      setError(\"Server error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n\n  useEffect(() => {\n    fetchTenders();\n  \n    const token = localStorage.getItem('access_token') || '';\n\n    // Connect via socket.io\n    const socket = io('http://localhost:3000', {\n      transports: ['websocket'],\n      query: { token },\n    });\n  \n    socket.on(\"connect\", () => {\n      console.log(\"Connected to WebSocket server\");\n    });\n  \n    socket.on(\"tenderInserted\", (data) => {\n      console.log(\"Tender inserted:\", data.subtender);\n      fetchTenders();\n    });\n    socket.on(\"tenderUpdated\", (data) => {\n      console.log(\"Tender updated:\", data.subtender);\n      fetchTenders();\n    });\n    socket.on(\"tenderDeleted\", (data) => {\n      console.log(\"Tender deleted:\", data.subtender);\n      fetchTenders();\n    });\n  \n    socket.on(\"connect_error\", (err) => {\n      console.error(\"WebSocket connection error:\", err);\n    });\n  \n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  \n\n  // Apply filters\n  const handleFilter = () => {\n    let filtered = tenders\n    console.log(\"filered tenders\", tenders);\n\n    if (statusFilter) {\n      filtered = filtered.filter((tender) => tender.status === statusFilter)\n    }\n\n    if (startDate && endDate) {\n      filtered = filtered.filter(\n        (tender) =>\n          new Date(tender.submittedAt) >= new Date(startDate) &&\n          new Date(tender.submittedAt) <= new Date(endDate)\n      )\n    }\n\n    setFilteredTenders(filtered)\n    setShowFilters(false) // Hide filter modal after applying\n  }\n\n  const handleRowsPerPageChange = (event: SelectChangeEvent<number>) => {\n    setRowsPerPage(Number(event.target.value))\n  }\n\n  const handlePageChange = (\n    event: React.ChangeEvent<unknown>,\n    page: number\n  ) => {\n    setCurrentPage(page)\n  }\n\n  // Reset filters\n  const clearFilters = () => {\n    setStatusFilter(null)\n    setStartDate('')\n    setEndDate('')\n    setFilteredTenders(tenders)\n    setShowFilters(false) // Hide filter modal\n  }\n\n  // Sorting logic\n  const handleSort = (field: string) => {\n    let newSortOrder: 'asc' | 'desc' | null\n\n    if (sortField === field) {\n      newSortOrder =\n        sortOrder === 'asc' ? 'desc' : sortOrder === 'desc' ? null : 'asc'\n    } else {\n      newSortOrder = 'asc'\n    }\n\n    setSortField(newSortOrder ? field : null)\n    setSortOrder(newSortOrder)\n\n    if (newSortOrder) {\n      const sortedTenders = [...filteredTenders].sort((a, b) => {\n        if (a[field] < b[field]) return newSortOrder === 'asc' ? -1 : 1\n        if (a[field] > b[field]) return newSortOrder === 'asc' ? 1 : -1\n        return 0\n      })\n\n      setFilteredTenders(sortedTenders)\n    } else {\n      setFilteredTenders([...tenders])\n    }\n  }\n\n  // **Compute Summary Stats**\n  const totalTenders = tenders.length\n  const openTenders = tenders.filter((t) => t.status === 'Open').length\n  const pendingTenders = tenders.filter((t) => t.status === 'Submitted').length\n  const acceptedTenders = tenders.filter((t) => t.status === 'Approved').length\n  const rejectedTenders = tenders.filter((t) => t.status === 'Rejected').length\n\n  // Compute **Percentage Stats**\n  const getPercentage = (count: number) =>\n    totalTenders > 0 ? ((count / totalTenders) * 100).toFixed(1) : '0'\n\n  // Handle **Click on Status Card** to Filter Tenders\n  const filterByStatus = (status: string | null) => {\n    console.log(\"Filter Status Selected: \", status); // Debug line\n    if (status === statusFilter) {\n      setStatusFilter(null);\n      setFilteredTenders([...tenders]); // Reset to all tenders if same status clicked\n    } else {\n      setStatusFilter(status);\n      setFilteredTenders(tenders.filter((t) => t.status === status)); // Filter by the selected status\n    }\n  }\n\n  console.log(\"Filtered tenders>>>>>>>\",filteredTenders)\n\n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-3xl font-bold mb-4\">Tenders Dashboard</h1>\n      <div className=\"grid grid-cols-5 gap-4 mb-6\">\n        <div\n          className={`p-4 rounded-lg text-center shadow cursor-pointer ${\n            statusFilter === null ? 'bg-gray-300' : 'bg-gray-100'\n          }`}\n          onClick={() => filterByStatus(null)}\n        >\n          <p className=\"text-lg font-semibold\">Total</p>\n          <p className=\"text-3xl font-bold\">{totalTenders}</p>\n          <p className=\"text-sm text-gray-600\">100%</p>\n        </div>\n        <div\n          className={`p-4 rounded-lg text-center shadow cursor-pointer ${\n            statusFilter === 'Open' ? 'bg-blue-300' : 'bg-blue-100'\n          }`}\n          onClick={() => filterByStatus('Open')}\n        >\n          <p className=\"text-lg font-semibold\">Open</p>\n          <p className=\"text-3xl font-bold text-blue-600\">{openTenders}</p>\n          <p className=\"text-sm text-gray-600\">{getPercentage(openTenders)}%</p>\n        </div>\n        <div\n          className={`p-4 rounded-lg text-center shadow cursor-pointer ${\n            statusFilter === 'Submitted' ? 'bg-yellow-300' : 'bg-yellow-100'\n          }`}\n          onClick={() => filterByStatus('Submitted')}\n        >\n          <p className=\"text-lg font-semibold\">Submitted</p>\n          <p className=\"text-3xl font-bold text-yellow-700\">{pendingTenders}</p>\n          <p className=\"text-sm text-gray-600\">{getPercentage(pendingTenders)}%</p>\n        </div>\n        <div\n          className={`p-4 rounded-lg text-center shadow cursor-pointer ${\n            statusFilter === 'Approved' ? 'bg-green-200' : 'bg-green-100'\n          }`}\n          onClick={() => filterByStatus('Approved')}\n        >\n          <p className=\"text-lg font-semibold\">Accepted</p>\n          <p className=\"text-3xl font-bold text-green-600\">{acceptedTenders}</p>\n          <p className=\"text-sm text-gray-600\">{getPercentage(acceptedTenders)}%</p>\n        </div>\n        <div\n          className={`p-4 rounded-lg text-center shadow cursor-pointer ${\n            statusFilter === 'Rejected' ? 'bg-red-300' : 'bg-red-100'\n          }`}\n          onClick={() => filterByStatus('Rejected')}\n        >\n          <p className=\"text-lg font-semibold\">Rejected</p>\n          <p className=\"text-3xl font-bold text-red-600\">{rejectedTenders}</p>\n          <p className=\"text-sm text-gray-600\">\n            {getPercentage(rejectedTenders)}%\n          </p>\n        </div>\n      </div>\n\n      {/* Filter & Clear Buttons */}\n      <div className=\"flex justify-between mb-4\">\n        <button\n          className=\"bg-gray-300 px-4 py-2 rounded-lg\"\n          onClick={() => setShowFilters(true)}\n        >\n          ⚙️ Filters\n        </button>\n        <button className=\"text-red-500 underline\" onClick={clearFilters}>\n          Clear filters\n        </button>\n      </div>\n\n      {/*Filter Options */}\n      {showFilters && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center\"\n          onClick={() => setShowFilters(false)}\n        >\n          <div\n            className=\"bg-white p-6 rounded-lg shadow-lg w-96\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <h2 className=\"text-xl font-bold mb-4\">Filter Options</h2>\n            <label>Status:</label>\n            <select\n              className=\"w-full border p-2 rounded\"\n              value={statusFilter || ''}\n              onChange={(e) => setStatusFilter(e.target.value || null)}\n            >\n              <option value=\"\">All</option>\n              <option value=\"Open\">Open</option>\n              <option value=\"Approved\">Accepted</option>\n              <option value=\"Submitted\">Submitted</option>\n              <option value=\"Rejected\">Rejected</option>\n            </select>\n            <label className=\"block mb-2\">Start Date:</label>\n            <input\n              type=\"date\"\n              className=\"w-full border p-2 rounded mb-4\"\n              value={startDate}\n              onChange={(e) => setStartDate(e.target.value)}\n            />\n\n            <label className=\"block mb-2\">End Date:</label>\n            <input\n              type=\"date\"\n              className=\"w-full border p-2 rounded mb-4\"\n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n            />\n            <div className=\"flex justify-between\">\n              <button\n                className=\"bg-blue-500 text-white px-4 py-2 rounded-lg\"\n                onClick={handleFilter}\n              >\n                Apply Filters\n              </button>\n              <button\n                className=\"text-gray-500 underline\"\n                onClick={() => setShowFilters(false)}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n\n\n      {/*Tender Table */}\n      <TenderList\n        tenders={filteredTenders}\n        onSort={handleSort}\n        sortField={sortField}\n        sortOrder={sortOrder}\n        currentPage={currentPage}\n        rowsPerPage={rowsPerPage}\n      />\n\n      <div className=\"mt-6 flex justify-end items-center\">\n        <div className=\"flex items-center\">\n          <span className=\"mr-2\">Rows per page:</span>\n          <Select value={rowsPerPage} onChange={handleRowsPerPageChange}>\n            <MenuItem value={5}>5</MenuItem>\n            <MenuItem value={10}>10</MenuItem>\n            <MenuItem value={25}>25</MenuItem>\n            <MenuItem value={50}>50</MenuItem>\n          </Select>\n        </div>\n\n        <Pagination\n          count={Math.ceil(filteredTenders.length / rowsPerPage)}\n          page={currentPage}\n          onChange={handlePageChange}\n          color=\"primary\"\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default TenderDashboard\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}